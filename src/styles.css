@tailwind components;
@tailwind utilities;

@layer components {
  #chat-ui-scope {
    /* Reset basic properties to prevent inheritance from host */
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    line-height: 1.5;
    color: var(--foreground); /* Ensure text color is applied */
    -webkit-text-size-adjust: 100%;
    -moz-tab-size: 4;
    tab-size: 4;
    
    /* Force light color scheme */
    color-scheme: light;
    
    /* Variables - Light Theme Defaults */
    --chat-background: 0 0% 100%;
    --chat-foreground: 222.2 84% 4.9%;
    --chat-card: 0 0% 100%;
    --chat-card-foreground: 222.2 84% 4.9%;
    --chat-popover: 0 0% 100%;
    --chat-popover-foreground: 222.2 84% 4.9%;
    --chat-primary: 221.2 83.2% 53.3%;
    --chat-primary-foreground: 210 40% 98%;
    --chat-secondary: 210 40% 96.1%;
    --chat-secondary-foreground: 222.2 47.4% 11.2%;
    --chat-muted: 210 40% 96.1%;
    --chat-muted-foreground: 215.4 16.3% 46.9%;
    --chat-accent: 210 40% 96.1%;
    --chat-accent-foreground: 222.2 47.4% 11.2%;
    --chat-destructive: 0 84.2% 60.2%;
    --chat-destructive-foreground: 210 40% 98%;
    --chat-border: 214.3 31.8% 91.4%;
    --chat-input: 214.3 31.8% 91.4%;
    --chat-ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
    --radix-accordion-content-height: 0;
    
    /* Shining Text Defaults (mapped to theme) */
    --shining-base: hsl(var(--chat-muted-foreground));
    --shining-highlight: hsl(var(--chat-foreground));
  }
  
  #chat-ui-scope.dark {
    /* Variables - Dark Theme */
    --chat-background: 0 0% 0%;
    --chat-foreground: 0 0% 100%;
    --chat-card: 0 0% 0%;
    --chat-card-foreground: 0 0% 100%;
    --chat-popover: 0 0% 0%;
    --chat-popover-foreground: 0 0% 100%;
    --chat-primary: 221.2 83.2% 53.3%;
    --chat-primary-foreground: 210 40% 98%;
    --chat-secondary: 217.2 32.6% 17.5%;
    --chat-secondary-foreground: 210 40% 98%;
    --chat-muted: 217.2 32.6% 17.5%;
    --chat-muted-foreground: 215 20.2% 65.1%;
    --chat-accent: 217.2 32.6% 17.5%;
    --chat-accent-foreground: 210 40% 98%;
    --chat-destructive: 0 62.8% 30.6%;
    --chat-destructive-foreground: 210 40% 98%;
    --chat-border: 217.2 32.6% 17.5%;
    --chat-input: 217.2 32.6% 17.5%;
    --chat-ring: 212.7 26.8% 83.9%;
  }
  
  /* Reset child elements to inherit color to prevent host overrides */
  #chat-ui-scope :where(h1, h2, h3, h4, h5, h6, p, span, div, a, button, input, textarea, select) {
      color: inherit;
  }
  
  /* Ensure the root element uses the correct namespaced color */
  #chat-ui-scope {
    color: hsl(var(--chat-foreground)) !important;
  }



  #chat-ui-scope * {
    border-color: theme('colors.border');
  }

  #chat-ui-scope .prose {
    --tw-prose-body: var(--foreground);
    --tw-prose-headings: var(--foreground);
    --tw-prose-lead: var(--muted-foreground);
    --tw-prose-links: var(--primary);
    --tw-prose-bold: var(--foreground);
    --tw-prose-counters: var(--muted-foreground);
    --tw-prose-bullets: var(--muted-foreground);
    --tw-prose-hr: var(--border);
    --tw-prose-quotes: var(--foreground);
    --tw-prose-quote-borders: var(--border);
    --tw-prose-captions: var(--muted-foreground);
    --tw-prose-code: var(--foreground);
    --tw-prose-pre-code: var(--foreground);
    --tw-prose-pre-bg: var(--muted);
    --tw-prose-th-borders: var(--border);
    --tw-prose-td-borders: var(--border);
  }
}

@layer utilities {
  .animate-gradient {
    background-size: 300%;
    animation: gradient 8s ease infinite;
  }

  @keyframes gradient {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }
  
  @keyframes spin-around {
      0% {
          transform: translateZ(0) rotate(0);
      }
      15%, 35% {
          transform: translateZ(0) rotate(90deg);
      }
      65%, 85% {
          transform: translateZ(0) rotate(270deg);
      }
      100% {
          transform: translateZ(0) rotate(360deg);
      }
  }

@keyframes slide {
      to {
          transform: translate(calc(100cqw - 100%), 0);
      }
  }
}

/* Custom Scrollbar for Desktop */
@media (min-width: 769px) {
  #chat-ui-scope ::-webkit-scrollbar {
    width: 8px;
    height: 6px;
  }
  
  #chat-ui-scope ::-webkit-scrollbar-track {
    background: transparent;
  }
  
  #chat-ui-scope ::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/20 rounded-full;
    border: 1px solid transparent;
  }

  #chat-ui-scope ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/40;
  }
}

